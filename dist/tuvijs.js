!function(n,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("moment")):"function"==typeof define&&define.amd?define(["moment"],i):"object"==typeof exports?exports.tuvi=i(require("moment")):n.tuvi=i(n.moment)}(window,(function(n){return function(n){var i={};function h(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return n[t].call(a.exports,a,a.exports,h),a.l=!0,a.exports}return h.m=n,h.c=i,h.d=function(n,i,t){h.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:t})},h.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},h.t=function(n,i){if(1&i&&(n=h(n)),8&i)return n;if(4&i&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(h.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(var a in n)h.d(t,a,function(i){return n[i]}.bind(null,a));return t},h.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return h.d(i,"a",i),i},h.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},h.p="",h(h.s=2)}([function(i,h){i.exports=n},function(n,i,h){"use strict";var t,a,e;e=this,t=[h(0)],void 0===(a=function(n){return e.moment=function(n){var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],h=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904],t=function(n,i,h){return(n&(1<<i)-1<<h)>>h},a=function(n,i,h){return i=(i+9)%12,365*(n=parseInt(n)-parseInt(i/10))+parseInt(n/4)-parseInt(n/100)+parseInt(n/400)+parseInt((306*i+5)/10)+(h-1)};return n.fn.solar=function(n){n=!0===n;var e=i[this.year()-i[0]],u=t(e,4,13),T=0,s=u;this.isLeanMonth()||n||(s=this.month()+1<=u||0==u?this.month():this.month()+1);for(var c=0;c<s;c++)T+=1==t(e,1,12-c)?30:29;T+=this.date();var g=h[this.year()-h[0]],_=t(g,12,9),r=t(g,4,5),o=t(g,5,0),m=a(_,r,o)+T-1,C=m-(365*(_=parseInt((1e4*m+14780)/3652425))+parseInt(_/4)-parseInt(_/100)+parseInt(_/400));C<0&&(C=m-(365*--_+parseInt(_/4)-parseInt(_/100)+parseInt(_/400)));var l=parseInt((100*C+52)/3060),w=(l+2)%12+1;_+=parseInt((l+2)/12);var P=C-parseInt((306*l+5)/10)+1;return this.year(_).month(w-1).date(P)},n.fn.lunar=function(){var n=this.year()-h[0],e=this.year()<<9|this.month()+1<<5|this.date();h[n]>e&&n--;var u=h[n],T=t(u,12,9),s=t(u,4,5),c=t(u,5,0),g=a(this.year(),this.month()+1,this.date())-a(T,s,c),_=i[n],r=t(_,4,13),o=n+h[0],m=0;g+=1;for(var C=0;C<13;C++){var l=1==t(_,1,12-C)?30:29;if(!(g>l))break;m++,g-=l}var w=parseInt(g);return 0!=r&&m+1>r&&1+--m==r&&(this.isLeanMonth=function(){return!0}),this.year(o).month(m).date(w)},n.fn.isLeanMonth=function(){return!1},n}(n),e.moment}.apply(i,t))||(n.exports=a)},function(n,i,h){"use strict";h.r(i);class t{constructor(n,i){this._name=n,this._value=i}static from(n){return n===t.Dương._name?t.Dương:n===t.Âm._name?t.Âm:void 0}static fromNum(n){return 0===n?t.Âm:1===n?t.Dương:void 0}get name(){return this._name}get value(){return this._value}}t.Âm=new t("Âm",0),t.Dương=new t("Dương",1);class a extends t{constructor(n,i){super(i.name,i.value),this.gioiTinh=n}static from(n){return n===a.Nam._gioiTinh?a.Nam:n===a.Nữ._gioiTinh?a.Nữ:void 0}get gioiTinh(){return this._gioiTinh}set gioiTinh(n){this._gioiTinh=n}}a.Nam=new a("Nam",t.Dương),a.Nữ=new a("Nữ",t.Âm);class e extends t{constructor(n,i){super(i.name,i.value),this._val=n}equals(n){return null!=n&&n.val===this.val}get val(){return this._val}set val(n){this._val=n}}e.Cát=new e("Cát",t.Dương),e.Hung=new e("Hung",t.Âm);class u{constructor(n,i,h,t){this._value=n,this._name=i,this._napAm=h,this._amDuong=t}static byValue(n){return 0==n&&(n=10),u.list[n-1]}get value(){return this._value}set value(n){this._value=n}get name(){return this._name}set name(n){this._name=n}get napAm(){return this._napAm}set napAm(n){this._napAm=n}get amDuong(){return this._amDuong}set amDuong(n){this._amDuong=n}}u.Giáp=new u(1,"Giáp",1,t.Dương),u.Ất=new u(2,"Ất",1,t.Âm),u.Bính=new u(3,"Bính",2,t.Dương),u.Đinh=new u(4,"Đinh",2,t.Âm),u.Mậu=new u(5,"Mậu",3,t.Dương),u.Kỷ=new u(6,"Kỷ",3,t.Âm),u.Canh=new u(7,"Canh",4,t.Dương),u.Tân=new u(8,"Tân",4,t.Âm),u.Nhâm=new u(9,"Nhâm",5,t.Dương),u.Quý=new u(10,"Quý",5,t.Âm),u.list=[u.Giáp,u.Ất,u.Bính,u.Đinh,u.Mậu,u.Kỷ,u.Canh,u.Tân,u.Nhâm,u.Quý];class T{constructor(n,i,h){this._value=n,this._name=i,this._napAm=h}static byIndexFromTy(n){let i=n-2;return T.list[i<0?i+12:i]}tien(n){return T.list[(this.index+n)%12]}lui(n){let i=this.index-n%12;return i=i<0?i+12:i,T.list[i]}getValueFromTy(){return(this.value+2)%12}getIndexFromTy(){return this.getValueFromTy()-1}get index(){return this._value-1}get value(){return this._value}set value(n){this._value=n}get name(){return this._name}set name(n){this._name=n}get napAm(){return this._napAm}set napAm(n){this._napAm=n}}T.Tý=new T(11,"Tý",0),T.Sửu=new T(12,"Sửu",0),T.Dần=new T(1,"Dần",1),T.Mão=new T(2,"Mão",1),T.Thìn=new T(3,"Thìn",2),T.Tị=new T(4,"Tị",2),T.Ngọ=new T(5,"Ngọ",0),T.Mùi=new T(6,"Mùi",0),T.Thân=new T(7,"Thân",1),T.Dậu=new T(8,"Dậu",1),T.Tuất=new T(9,"Tuất",2),T.Hợi=new T(10,"Hợi",2),T.list=[T.Dần,T.Mão,T.Thìn,T.Tị,T.Ngọ,T.Mùi,T.Thân,T.Dậu,T.Tuất,T.Hợi,T.Tý,T.Sửu];var s=h(0);h(1);class c{constructor(n,i=t.Dương){let h;i===t.Dương?(h=n.clone(),this._dateTime=n.lunar()):(this._dateTime=n.clone(),h=n.solar()),this._dateTime.hour()>=23&&(this._dateTime=this._dateTime.add(1,"days")),this._julianDay=function(n,i,h){let t=Math.floor((14-i)/12),a=n+4800-t,e=i+12*t-3,u=h+Math.floor((153*e+2)/5)+365*a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400)-32045;u<2299161&&(u=h+Math.floor((153*e+2)/5)+365*a+Math.floor(a/4)-32083);return u}(h.year(),h.month()+1,h.date()),this.xacDinhCanChiNam(),this.xacDinhCanChiThang(),this.xacDinhCanChiNgay(),this.xacDinhCanChiGio()}xacDinhCanChiNam(){let n=this._dateTime.year(),i=u.list[(n+6)%10],h=T.list[(n+6)%12];this._nam=new _(i,h,this.dateTime.year())}xacDinhCanChiThang(){let n=this._dateTime.year(),i=this._dateTime.month(),h=c.xacDinhCanThangGieng(n),t=u.list[(h.value-1+i)%10],a=T.list[i];this._thang=new _(t,a,this.dateTime.month()+1)}xacDinhCanChiNgay(){let n=u.byValue(this._julianDay%10),i=this._julianDay%12-1;-1==i&&(i=11);let h=T.list[i];this._ngay=new _(n,h,this.dateTime.date())}xacDinhCanChiGio(){let n=c.xacDinhCanGioTy(this._ngay.can),i=Math.floor((this._dateTime.hour()+1)/2),h=u.byValue((n.value+i)%10),t=T.byIndexFromTy(i);this._gio=new _(h,t,i+1)}static xacDinhCanGioTy(n){switch(n){case u.Giáp:case u.Kỷ:return u.Giáp;case u.Ất:case u.Canh:return u.Bính;case u.Bính:case u.Tân:return u.Mậu;case u.Đinh:case u.Nhâm:return u.Canh;case u.Mậu:case u.Quý:return u.Nhâm}}static xacDinhCanThangGieng(n){switch(n%10){case 1:case 6:return u.Canh;case 2:case 7:return u.Nhâm;case 3:case 8:return u.Giáp;case 4:case 9:return u.Bính;case 5:case 0:return u.Mậu}}get dateTime(){return this._dateTime}set dateTime(n){this._dateTime=n}get nam(){return this._nam}set nam(n){this._nam=n}get thang(){return this._thang}set thang(n){this._thang=n}get ngay(){return this._ngay}set ngay(n){this._ngay=n}get gio(){return this._gio}set gio(n){this._gio=n}}class g{constructor(n,i){this._can=n,this._chi=i}equals(n){return this.can===n.can&&this.chi===n.chi}get can(){return this._can}set can(n){this._can=n}get chi(){return this._chi}set chi(n){this._chi=n}}g.Giáp_Tý=new g(u.Giáp,T.Tý),g.Ất_Sửu=new g(u.Ất,T.Sửu),g.Bính_Dần=new g(u.Bính,T.Dần),g.Đinh_Mão=new g(u.Đinh,T.Mão),g.Mậu_Thìn=new g(u.Mậu,T.Thìn),g.Kỷ_Tị=new g(u.Kỷ,T.Tị),g.Canh_Ngọ=new g(u.Canh,T.Ngọ),g.Tân_Mùi=new g(u.Tân,T.Mùi),g.Nhâm_Thân=new g(u.Nhâm,T.Thân),g.Quý_Dậu=new g(u.Quý,T.Dậu),g.Giáp_Tuất=new g(u.Giáp,T.Tuất),g.Ất_Hợi=new g(u.Ất,T.Hợi),g.Bính_Tý=new g(u.Bính,T.Tý),g.Đinh_Sửu=new g(u.Đinh,T.Sửu),g.Mậu_Dần=new g(u.Mậu,T.Dần),g.Kỷ_Mão=new g(u.Kỷ,T.Mão),g.Canh_Thìn=new g(u.Canh,T.Thìn),g.Tân_Tị=new g(u.Tân,T.Tị),g.Nhâm_Ngọ=new g(u.Nhâm,T.Ngọ),g.Quý_Mùi=new g(u.Quý,T.Mùi),g.Giáp_Thân=new g(u.Giáp,T.Thân),g.Ất_Dậu=new g(u.Ất,T.Dậu),g.Bính_Tuất=new g(u.Bính,T.Tuất),g.Đinh_Hợi=new g(u.Đinh,T.Hợi),g.Mậu_Tý=new g(u.Mậu,T.Tý),g.Kỷ_Sửu=new g(u.Kỷ,T.Sửu),g.Canh_Dần=new g(u.Canh,T.Dần),g.Tân_Mão=new g(u.Tân,T.Mão),g.Nhâm_Thìn=new g(u.Nhâm,T.Thìn),g.Quý_Tị=new g(u.Quý,T.Tị),g.Giáp_Ngọ=new g(u.Giáp,T.Ngọ),g.Ất_Mùi=new g(u.Ất,T.Mùi),g.Bính_Thân=new g(u.Bính,T.Thân),g.Đinh_Dậu=new g(u.Đinh,T.Dậu),g.Mậu_Tuất=new g(u.Mậu,T.Tuất),g.Kỷ_Hợi=new g(u.Kỷ,T.Hợi),g.Canh_Tý=new g(u.Canh,T.Tý),g.Tân_Sửu=new g(u.Tân,T.Sửu),g.Nhâm_Dần=new g(u.Nhâm,T.Dần),g.Quý_Mão=new g(u.Quý,T.Mão),g.Giáp_Thìn=new g(u.Giáp,T.Thìn),g.Ất_Tị=new g(u.Ất,T.Tị),g.Bính_Ngọ=new g(u.Bính,T.Ngọ),g.Đinh_Mùi=new g(u.Đinh,T.Mùi),g.Mậu_Thân=new g(u.Mậu,T.Thân),g.Kỷ_Dậu=new g(u.Kỷ,T.Dậu),g.Canh_Tuất=new g(u.Canh,T.Tuất),g.Tân_Hợi=new g(u.Tân,T.Hợi),g.Nhâm_Tý=new g(u.Nhâm,T.Tý),g.Quý_Sửu=new g(u.Quý,T.Sửu),g.Giáp_Dần=new g(u.Giáp,T.Dần),g.Ất_Mão=new g(u.Ất,T.Mão),g.Bính_Thìn=new g(u.Bính,T.Thìn),g.Đinh_Tị=new g(u.Đinh,T.Tị),g.Mậu_Ngọ=new g(u.Mậu,T.Ngọ),g.Kỷ_Mùi=new g(u.Kỷ,T.Mùi),g.Canh_Thân=new g(u.Canh,T.Thân),g.Tân_Dậu=new g(u.Tân,T.Dậu),g.Nhâm_Tuất=new g(u.Nhâm,T.Tuất),g.Quý_Hợi=new g(u.Quý,T.Hợi),g.Tuần_Giáp_Tý=[g.Giáp_Tý,g.Ất_Sửu,g.Bính_Dần,g.Đinh_Mão,g.Mậu_Thìn,g.Kỷ_Tị,g.Canh_Ngọ,g.Tân_Mùi,g.Nhâm_Thân,g.Quý_Dậu],g.Tuần_Giáp_Tuất=[g.Giáp_Tuất,g.Ất_Hợi,g.Bính_Tý,g.Đinh_Sửu,g.Mậu_Dần,g.Kỷ_Mão,g.Canh_Thìn,g.Tân_Tị,g.Nhâm_Ngọ,g.Quý_Mùi],g.Tuần_Giáp_Thân=[g.Giáp_Thân,g.Ất_Dậu,g.Bính_Tuất,g.Đinh_Hợi,g.Mậu_Tý,g.Kỷ_Sửu,g.Canh_Dần,g.Tân_Mão,g.Nhâm_Thìn,g.Quý_Tị],g.Tuần_Giáp_Ngọ=[g.Giáp_Ngọ,g.Ất_Mùi,g.Bính_Thân,g.Đinh_Dậu,g.Mậu_Tuất,g.Kỷ_Hợi,g.Canh_Tý,g.Tân_Sửu,g.Nhâm_Dần,g.Quý_Mão],g.Tuần_Giáp_Thìn=[g.Giáp_Thìn,g.Ất_Tị,g.Bính_Ngọ,g.Đinh_Mùi,g.Mậu_Thân,g.Kỷ_Dậu,g.Canh_Tuất,g.Tân_Hợi,g.Nhâm_Tý,g.Quý_Sửu],g.Tuần_Giáp_Dần=[g.Giáp_Dần,g.Ất_Mão,g.Bính_Thìn,g.Đinh_Tị,g.Mậu_Ngọ,g.Kỷ_Mùi,g.Canh_Thân,g.Tân_Dậu,g.Nhâm_Tuất,g.Quý_Hợi];class _{constructor(n,i,h){this.hoaGiap=new g(n,i),this._val=h}get val(){return this._val}set val(n){this._val=n}set hoaGiap(n){this._hoaGiap=n}get hoaGiap(){return this._hoaGiap}get can(){return this.hoaGiap.can}set can(n){this.hoaGiap.can=n}get chi(){return this.hoaGiap.chi}set chi(n){this.hoaGiap.chi=n}}class r{constructor(n,i,h,t){this._name=n,this._cuc=i,this._napAm=h,this._cucName=t}static byNapAm(n){return r.list.filter(i=>i.napAm==n)[0]}get cucName(){return this._cucName}get name(){return this._name}set name(n){this._name=n}get cuc(){return this._cuc}set cuc(n){this._cuc=n}get napAm(){return this._napAm}set napAm(n){this._napAm=n}}r.Kim=new r("Kim",4,1,"Kim Tứ Cục"),r.Mộc=new r("Mộc",3,5,"Mộc Tam Cục"),r.Thủy=new r("Thủy",2,2,"Thủy Nhị Cục"),r.Hỏa=new r("Hỏa",6,3,"Hỏa Lục Cục"),r.Thổ=new r("Thổ",5,4,"Thổ Ngũ Cục"),r.list=[r.Kim,r.Mộc,r.Thủy,r.Hỏa,r.Thổ];class o{constructor(n){this.name=n}}o.Tử_Vi=new o("Tử Vi"),o.Thiên_Cơ=new o("Thiên Cơ"),o.Thái_Dương=new o("Thái Dương"),o.Vũ_Khúc=new o("Vũ Khúc"),o.Thiên_Đồng=new o("Thiên Đồng"),o.Liêm_Trinh=new o("Liêm Trinh"),o.Thất_Sát=new o("Thất Sát"),o.Thiên_Lương=new o("Thiên Lương"),o.Cự_Môn=new o("Cự Môn"),o.Tham_Lang=new o("Tham Lang"),o.Thái_Âm=new o("Thái Âm"),o.Phá_Quân=new o("Phá Quân"),o.Thiên_Phủ=new o("Thiên Phủ"),o.Thiên_Tướng=new o("Thiên Tướng");class m{constructor(n){this._val=n}get val(){return this._val}}m.Lục_Cát=new m("Lục Cát"),m.Lục_Sát=new m("Lục Sát"),m.Tứ_Hóa=new m("Tứ Hóa"),m.Tam_Minh=new m("Tam Minh");class C{constructor(n,i=null,h=null){this._name=n,this._type=i,this._group=h}get name(){return this._name}set name(n){this._name=n}get type(){return this._type}set type(n){this._type=n}get group(){return this._group}set group(n){this._group=n}}C.Văn_Xương=new C("Văn Xương",e.Cát,m.Lục_Cát),C.Văn_Khúc=new C("Văn Khúc",e.Cát,m.Lục_Cát),C.Tả_Phù=new C("Tả Phù",e.Cát,m.Lục_Cát),C.Hữu_Bật=new C("Hữu Bật",e.Cát,m.Lục_Cát),C.Thiên_Khôi=new C("Thiên Khôi",e.Cát,m.Lục_Cát),C.Thiên_Việt=new C("Thiên Việt",e.Cát,m.Lục_Cát),C.Ân_Quang=new C("Ân Quang",e.Cát),C.Thiên_Quý=new C("Thiên Quý",e.Cát),C.Tam_Thai=new C("Tam Thai",e.Cát),C.Bát_Tọa=new C("Bát Tọa",e.Cát),C.Cô_Thần=new C("Cô Thần"),C.Quả_Tú=new C("Quả Tú"),C.Địa_Không=new C("Địa Không",e.Hung,m.Lục_Sát),C.Địa_Kiếp=new C("Địa Kiếp",e.Hung,m.Lục_Sát),C.Kình_Dương=new C("Kình Dương",e.Hung,m.Lục_Sát),C.Đà_La=new C("Đà La",e.Hung,m.Lục_Sát),C.Linh_Tinh=new C("Linh Tinh",e.Hung,m.Lục_Sát),C.Hỏa_Tinh=new C("Hỏa Tinh",e.Hung,m.Lục_Sát),C.Thiên_Không=new C("Thiên Không",e.Hung),C.Đào_Hoa=new C("Đào Hoa",e.Cát,m.Tam_Minh),C.Hồng_Loan=new C("Hồng Loan",e.Cát,m.Tam_Minh),C.Thiên_Hỷ=new C("Thiên Hỷ",e.Cát,m.Tam_Minh),C.Thiên_Hình=new C("Thiên Hình",e.Hung),C.Thiên_Mã=new C("Thiên Mã"),C.Long_Trì=new C("Long Trì"),C.Phượng_Các=new C("Phượng Các"),C.Giải_Thần=new C("Giải Thần"),C.Thiên_Khốc=new C("Thiên Khốc"),C.Thiên_Hư=new C("Thiên Hư"),C.Thiên_Đức=new C("Thiên Đức"),C.Nguyệt_Đức=new C("Nguyệt Đức"),C.Kiếp_Sát=new C("Kiếp Sát",e.Hung),C.Hoa_Cái=new C("Hoa Cái"),C.Phá_Toái=new C("Phá Toái"),C.Thiên_Riêu=new C("Thiên Riêu",e.Hung),C.Thiên_Y=new C("Thiên Y"),C.Thiên_Giải=new C("Thiên Giải"),C.Địa_Giải=new C("Địa Giải"),C.Quốc_Ấn=new C("Quốc Ấn"),C.Đường_Phù=new C("Đường Phù"),C.Thiên_Quan=new C("Thiên Quan"),C.Thiên_Phúc=new C("Thiên Phúc"),C.Lưu_Hà=new C("Lưu Hà"),C.Thiên_Trù=new C("Thiên Trù"),C.Âm_Sát=new C("Âm Sát"),C.TUẦN=new C("Tuần"),C.TRIỆT=new C("Triệt"),C.Hóa_Lộc=new C("Hóa Lộc",e.Cát,m.Tứ_Hóa),C.Hóa_Quyền=new C("Hóa Quyền",e.Cát,m.Tứ_Hóa),C.Hóa_Khoa=new C("Hóa Khoa",e.Cát,m.Tứ_Hóa),C.Hóa_Kỵ=new C("Hóa Kỵ",e.Hung,m.Tứ_Hóa),C.tuHoa=[C.Hóa_Lộc,C.Hóa_Quyền,C.Hóa_Khoa,C.Hóa_Kỵ],C.Lộc_Tồn=new C("Lộc Tồn"),C.Lực_Sỹ=new C("Lực Sỹ"),C.Thanh_Long=new C("Thanh Long"),C.Tiểu_Hao=new C("Tiểu Hao"),C.Tướng_Quân=new C("Tướng Quân"),C.Tấu_Thư=new C("Tấu Thư"),C.Phi_Liêm=new C("Phi Liêm"),C.Hỷ_Thần=new C("Hỷ Thần"),C.Bệnh_Phù=new C("Bệnh Phù"),C.Đại_Hao=new C("Đại Hao"),C.Phục_Binh=new C("Phục Binh"),C.Quan_Phủ=new C("Quan Phủ"),C.vongLocTon=[C.Lộc_Tồn,C.Lực_Sỹ,C.Thanh_Long,C.Tiểu_Hao,C.Tướng_Quân,C.Tấu_Thư,C.Phi_Liêm,C.Hỷ_Thần,C.Bệnh_Phù,C.Đại_Hao,C.Phục_Binh,C.Quan_Phủ],C.Thái_Tuế=new C("Thái Tuế"),C.Thiếu_Dương=new C("Thiếu Dương"),C.Tang_Môn=new C("Tang Môn"),C.Thiếu_Âm=new C("Thiếu Âm"),C.Quan_Phù=new C("Quan Phù"),C.Tử_Phù=new C("Tử Phù"),C.Tuế_Phá=new C("Tuế Phá"),C.Long_Đức=new C("Long Đức"),C.Bạch_Hổ=new C("Bạch Hổ"),C.Phúc_Đức=new C("Phúc Đức"),C.Điếu_Khách=new C("Điếu Khách"),C.Trực_Phù=new C("Trực Phù"),C.vongThaiTue=[C.Thái_Tuế,C.Thiếu_Dương,C.Tang_Môn,C.Thiếu_Âm,C.Quan_Phù,C.Tử_Phù,C.Tuế_Phá,C.Long_Đức,C.Bạch_Hổ,C.Phúc_Đức,C.Điếu_Khách,C.Trực_Phù],C.Trường_Sinh=new C("Trường Sinh"),C.Mộc_Dục=new C("Mộc Dục"),C.Quan_Đới=new C("Quan Đới"),C.Lâm_Quan=new C("Lâm Quan"),C.Đế_Vượng=new C("Đế Vượng"),C.Suy=new C("Suy"),C.Bệnh=new C("Bệnh"),C.Tử=new C("Tử"),C.Mộ=new C("Mộ"),C.Tuyệt=new C("Tuyệt"),C.Thai=new C("Thai"),C.Dưỡng=new C("Dưỡng"),C.vongTrangSinh=[C.Trường_Sinh,C.Mộc_Dục,C.Quan_Đới,C.Lâm_Quan,C.Đế_Vượng,C.Suy,C.Bệnh,C.Tử,C.Mộ,C.Tuyệt,C.Thai,C.Dưỡng];class l{constructor(){this._cungList=[],this.anDiaChi()}static new(n,i=a.Nam,h=t.Dương){let e=new l;e._gioiTinh=i;let u=s(n);return e.duongLich=h===t.Dương?u.clone():u.clone().solar(),e.amLich=new c(u,h),this.anLaSo(e),e}getCungVi(n){return this.cungList[n.value-1]}getCungChuc(n){return this.cungList.filter(i=>i.cungChuc==n)[0]}timSao(n){return this.cungList.find(i=>i.getTinhDau().includes(n))}static timCanCungDan(n){return u.byValue((2*n.value+1)%10)}static timCungMenh(n,i){let h=T.Dần.tien(n-1).lui(i-1).index;return T.list[h]}get cungList(){return this._cungList}get amLich(){return this._amLich}set amLich(n){this._amLich=n}get duongLich(){return this._duongLich}set duongLich(n){this._duongLich=n}get gioiTinh(){return this._gioiTinh}set gioiTinh(n){this._gioiTinh=n}get cuc(){return this._cuc}set cuc(n){this._cuc=n}get menh(){return this._menh}set menh(n){this._menh=n}static anLaSo(n){n.timHanhNamSinh(),n.anThienCan(l.timCanCungDan(n.amLich.nam.can)),n.anCungChuc(l.timCungMenh(n.amLich.thang.val,n.amLich.gio.val)),n.anCungThan(),n.timCucCungMenh(),n.anChinhTinh();let i=n.anXuongKhuc();n.anTaPhuHuuBat(),n.anThienKhoiThienViet(),n.anAnQuangThienQuy(i),n.anTamThaiBatToa(),n.anCoThanQuaTu(),n.anDiaKhongDiaKiep(),n.anLinhTinhHoaTinh();let h=n.anVongLocTon();n.anKinhDuongDaLa(h),n.anVongTrangSinh(),n.anVongThaiTue(),n.anThienKhong(),n.anDaoHoaHongLoan(),n.anThienHy(),n.anThienHinh(),n.anThienMa(),n.anLongTriPhuongCac(),n.anGiaiThan(),n.anThienKhocThienHu(),n.anThienDucNguyenDuc(),n.anKiepSat(),n.anHoaCai(),n.anPhaToai(),n.anThienRieuThienY(),n.anThienGiaiDiaGiai(),n.anQuocAnDuongPhu(),n.anThienQuanThienPhuc(),n.anLuuHa(),n.anThienTru(),n.anAmSat(),n.anTuHoa(),n.anTrietKhong(),n.anTuanKhong(),n.anDaiVan(),n.anTieuVan()}timHanhNamSinh(){let n=this.amLich.nam.can.napAm+this.amLich.nam.chi.napAm;n=n>5?n-5:n,this._menh=r.byNapAm(n)}anThienCan(n){let i=n.value-1;this._cungList.forEach(n=>{n.can=u.list[i++%10]})}anDiaChi(){for(const n of T.list)this._cungList.push(new w(n))}anCungChuc(n){let i=n.value-1;this.cungList.forEach((n,h)=>{let t=h-i;n.cungChuc=P.list[t>=0?t:t+12]})}anCungThan(){let n=T.Dần.tien(this.amLich.thang.val-1).tien(this.amLich.gio.val-1);this.getCungVi(n).cungThan=!0}timCucCungMenh(){let n=this.getCungChuc(P.Mệnh),i=n.can.napAm+n.chi.napAm;i=i>5?i-5:i,this.cuc=r.byNapAm(i)}anChinhTinh(){let n=this.cuc,i=this.amLich.ngay.val%n.cuc,h=Math.floor(this.amLich.ngay.val/n.cuc);0==i&&(i=n.cuc,h-=1);let t=l._6cung[n.cuc-i].tien(h);this.getCungVi(t).anChinhTinh(o.Tử_Vi),this.getCungVi(t.lui(1)).anChinhTinh(o.Thiên_Cơ),this.getCungVi(t.lui(3)).anChinhTinh(o.Thái_Dương),this.getCungVi(t.lui(4)).anChinhTinh(o.Vũ_Khúc),this.getCungVi(t.lui(5)).anChinhTinh(o.Thiên_Đồng),this.getCungVi(t.lui(8)).anChinhTinh(o.Liêm_Trinh);let a=T.Hợi.tien(T.Hợi.index-t.index+12);this.getCungVi(a).anChinhTinh(o.Thất_Sát),this.getCungVi(a.lui(1)).anChinhTinh(o.Thiên_Lương),this.getCungVi(a.lui(3)).anChinhTinh(o.Cự_Môn),this.getCungVi(a.lui(4)).anChinhTinh(o.Tham_Lang),this.getCungVi(a.lui(5)).anChinhTinh(o.Thái_Âm),this.getCungVi(a.lui(8)).anChinhTinh(o.Phá_Quân),this.getCungVi(a.lui(2)).anChinhTinh(o.Thiên_Tướng),this.getCungVi(a.tien(6)).anChinhTinh(o.Thiên_Phủ)}anXuongKhuc(){let n=T.Tuất.lui(this.amLich.gio.val-1),i=T.Thìn.tien(this.amLich.gio.val-1);return this.getCungVi(n).anPhuTinh(C.Văn_Xương),this.getCungVi(i).anPhuTinh(C.Văn_Khúc),{vanXuong:n,vanKhuc:i}}anTaPhuHuuBat(){let n=T.Thìn.tien(this.amLich.thang.val-1),i=T.Tuất.lui(this.amLich.thang.val-1);this.getCungVi(n).anPhuTinh(C.Tả_Phù),this.getCungVi(i).anPhuTinh(C.Hữu_Bật)}anThienKhoiThienViet(){let n,i;switch(this.amLich.nam.can){case u.Giáp:case u.Mậu:n=T.Sửu,i=T.Mùi;break;case u.Ất:case u.Kỷ:n=T.Tý,i=T.Thân;break;case u.Bính:case u.Đinh:n=T.Hợi,i=T.Dậu;break;case u.Canh:case u.Tân:n=T.Ngọ,i=T.Dần;break;case u.Nhâm:case u.Quý:n=T.Mão,i=T.Tị}this.getCungVi(n).anPhuTinh(C.Thiên_Khôi),this.getCungVi(i).anPhuTinh(C.Thiên_Việt)}anAnQuangThienQuy(n){let i=n.vanXuong.tien(this.amLich.ngay.val-2),h=n.vanKhuc.lui(this.amLich.ngay.val-2);this.getCungVi(i).anPhuTinh(C.Ân_Quang),this.getCungVi(h).anPhuTinh(C.Thiên_Quý)}anTamThaiBatToa(){let n=this.amLich.thang.val+this.amLich.ngay.val-2,i=T.Thìn.tien(n),h=T.Tuất.lui(n);this.getCungVi(i).anPhuTinh(C.Tam_Thai),this.getCungVi(h).anPhuTinh(C.Bát_Tọa)}anCoThanQuaTu(){switch(this.amLich.nam.chi){case T.Hợi:case T.Tý:case T.Sửu:this.getCungVi(T.Dần).anPhuTinh(C.Cô_Thần),this.getCungVi(T.Tuất).anPhuTinh(C.Quả_Tú);break;case T.Dần:case T.Mão:case T.Thìn:this.getCungVi(T.Tị).anPhuTinh(C.Cô_Thần),this.getCungVi(T.Sửu).anPhuTinh(C.Quả_Tú);break;case T.Tị:case T.Ngọ:case T.Mùi:this.getCungVi(T.Thân).anPhuTinh(C.Cô_Thần),this.getCungVi(T.Thìn).anPhuTinh(C.Quả_Tú);break;case T.Thân:case T.Dậu:case T.Tuất:this.getCungVi(T.Hợi).anPhuTinh(C.Cô_Thần),this.getCungVi(T.Mùi).anPhuTinh(C.Quả_Tú)}}anDiaKhongDiaKiep(){let n=T.Hợi.lui(this.amLich.gio.val-1),i=T.Hợi.tien(this.amLich.gio.val-1);this.getCungVi(n).anPhuTinh(C.Địa_Không),this.getCungVi(i).anPhuTinh(C.Địa_Kiếp)}anVongLocTon(){let n=l.getCungLocTon(this.amLich.nam.can),i=this.amLich.nam.can.amDuong.value==this._gioiTinh.value;return C.vongLocTon.forEach((h,t)=>{i?this.getCungVi(n.tien(t)).anPhuTinh(h):this.getCungVi(n.lui(t)).anPhuTinh(h)}),n}static getCungLocTon(n){switch(n){case u.Giáp:return T.Dần;case u.Ất:return T.Mão;case u.Bính:case u.Mậu:return T.Tị;case u.Đinh:case u.Kỷ:return T.Ngọ;case u.Canh:return T.Thân;case u.Nhâm:return T.Hợi;case u.Tân:return T.Dậu;case u.Quý:return T.Tý}}anKinhDuongDaLa(n){this.getCungVi(n.tien(1)).anPhuTinh(C.Kình_Dương),this.getCungVi(n.lui(1)).anPhuTinh(C.Đà_La)}anLinhTinhHoaTinh(){let n,i;switch(this.amLich.nam.chi){case T.Dần:case T.Ngọ:case T.Tuất:n=T.Sửu,i=T.Mão;break;case T.Thân:case T.Tý:case T.Thìn:n=T.Dần,i=T.Tuất;break;case T.Tị:case T.Dậu:case T.Sửu:n=T.Mão,i=T.Tuất;break;case T.Hợi:case T.Mão:case T.Mùi:n=T.Dậu,i=T.Tuất}this.amLich.nam.can.amDuong.value!=this.gioiTinh.value?(this.getCungVi(n.lui(this.amLich.gio.val-1)).anPhuTinh(C.Hỏa_Tinh),this.getCungVi(i.tien(this.amLich.gio.val-1)).anPhuTinh(C.Linh_Tinh)):(this.getCungVi(n.tien(this.amLich.gio.val-1)).anPhuTinh(C.Hỏa_Tinh),this.getCungVi(i.lui(this.amLich.gio.val-1)).anPhuTinh(C.Linh_Tinh))}anVongThaiTue(){C.vongThaiTue.forEach((n,i)=>{this.getCungVi(this.amLich.nam.chi.tien(i)).anPhuTinh(n)})}anThienKhong(){this.getCungVi(this.amLich.nam.chi.tien(1)).anPhuTinh(C.Thiên_Không)}anDaoHoaHongLoan(){switch(this.amLich.nam.chi){case T.Tị:case T.Dậu:case T.Sửu:this.getCungVi(T.Ngọ).anPhuTinh(C.Đào_Hoa);break;case T.Hợi:case T.Mão:case T.Mùi:this.getCungVi(T.Tý).anPhuTinh(C.Đào_Hoa);break;case T.Thân:case T.Tý:case T.Thìn:this.getCungVi(T.Dậu).anPhuTinh(C.Đào_Hoa);break;case T.Dần:case T.Ngọ:case T.Tuất:this.getCungVi(T.Mão).anPhuTinh(C.Đào_Hoa)}this.getCungVi(T.Mão.lui(this.amLich.nam.chi.getIndexFromTy())).anPhuTinh(C.Hồng_Loan)}anThienHy(){let n=T.Dậu.lui(this.amLich.nam.chi.getIndexFromTy());this.getCungVi(n).anPhuTinh(C.Thiên_Hỷ)}anVongTrangSinh(){let n;switch(this.cuc){case r.Kim:n=T.Tị;break;case r.Mộc:n=T.Hợi;break;case r.Thủy:n=T.Thân;break;case r.Hỏa:n=T.Dần;break;case r.Thổ:n=T.Thân}let i=this.amLich.nam.can.amDuong.value==this._gioiTinh.value;C.vongTrangSinh.forEach((h,t)=>{i?this.getCungVi(n.tien(t)).anPhuTinh(h):this.getCungVi(n.lui(t)).anPhuTinh(h)})}anThienHinh(){let n=T.Dậu.tien(this.amLich.thang.val-1);this.getCungVi(n).anPhuTinh(C.Thiên_Hình)}anThienMa(){switch(this.amLich.nam.chi){case T.Dần:case T.Ngọ:case T.Tuất:this.getCungVi(T.Thân).anPhuTinh(C.Thiên_Mã);break;case T.Thân:case T.Tý:case T.Thìn:this.getCungVi(T.Dần).anPhuTinh(C.Thiên_Mã);break;case T.Tị:case T.Dậu:case T.Sửu:this.getCungVi(T.Hợi).anPhuTinh(C.Thiên_Mã);break;case T.Hợi:case T.Mão:case T.Mùi:this.getCungVi(T.Tị).anPhuTinh(C.Thiên_Mã)}}anLongTriPhuongCac(){let n=T.Thìn.tien(this.amLich.nam.chi.getIndexFromTy()),i=T.Tuất.lui(this.amLich.nam.chi.getIndexFromTy());this.getCungVi(n).anPhuTinh(C.Long_Trì),this.getCungVi(i).anPhuTinh(C.Phượng_Các)}anGiaiThan(){let n=T.Tuất.lui(this.amLich.nam.chi.getIndexFromTy());this.getCungVi(n).anPhuTinh(C.Giải_Thần)}anThienKhocThienHu(){let n=T.Ngọ.lui(this.amLich.nam.chi.getIndexFromTy()),i=T.Ngọ.tien(this.amLich.nam.chi.getIndexFromTy());this.getCungVi(n).anPhuTinh(C.Thiên_Khốc),this.getCungVi(i).anPhuTinh(C.Thiên_Hư)}anThienDucNguyenDuc(){let n=T.Dậu.tien(this.amLich.nam.chi.getIndexFromTy()),i=T.Tị.tien(this.amLich.nam.chi.getIndexFromTy());this.getCungVi(n).anPhuTinh(C.Thiên_Đức),this.getCungVi(i).anPhuTinh(C.Nguyệt_Đức)}anKiepSat(){switch(this.amLich.nam.chi){case T.Thân:case T.Tý:case T.Thìn:this.getCungVi(T.Tị).anPhuTinh(C.Kiếp_Sát);break;case T.Sửu:case T.Tị:case T.Dậu:this.getCungVi(T.Dần).anPhuTinh(C.Kiếp_Sát);break;case T.Dần:case T.Ngọ:case T.Tuất:this.getCungVi(T.Hợi).anPhuTinh(C.Kiếp_Sát);break;case T.Hợi:case T.Mão:case T.Mùi:this.getCungVi(T.Thân).anPhuTinh(C.Kiếp_Sát)}}anHoaCai(){switch(this.amLich.nam.chi){case T.Thân:case T.Tý:case T.Thìn:this.getCungVi(T.Thìn).anPhuTinh(C.Hoa_Cái);break;case T.Sửu:case T.Tị:case T.Dậu:this.getCungVi(T.Sửu).anPhuTinh(C.Hoa_Cái);break;case T.Dần:case T.Ngọ:case T.Tuất:this.getCungVi(T.Tuất).anPhuTinh(C.Hoa_Cái);break;case T.Hợi:case T.Mão:case T.Mùi:this.getCungVi(T.Hợi).anPhuTinh(C.Hoa_Cái)}}anPhaToai(){switch(this.amLich.nam.chi){case T.Tý:case T.Ngọ:case T.Mão:case T.Dậu:this.getCungVi(T.Tị).anPhuTinh(C.Phá_Toái);break;case T.Thìn:case T.Tuất:case T.Sửu:case T.Mùi:this.getCungVi(T.Sửu).anPhuTinh(C.Phá_Toái);break;case T.Dần:case T.Thân:case T.Tị:case T.Hợi:this.getCungVi(T.Dậu).anPhuTinh(C.Phá_Toái)}}anThienRieuThienY(){let n=T.Sửu.tien(this.amLich.thang.val-1);this.getCungVi(n).anPhuTinh(C.Thiên_Riêu),this.getCungVi(n).anPhuTinh(C.Thiên_Y)}anThienGiaiDiaGiai(){let n=T.Thân.tien(this.amLich.nam.val-1),i=T.Mùi.tien(this.amLich.nam.val-1);this.getCungVi(n).anPhuTinh(C.Thiên_Giải),this.getCungVi(i).anPhuTinh(C.Địa_Giải)}anQuocAnDuongPhu(){switch(this.amLich.nam.can){case u.Giáp:this.getCungVi(T.Tuất).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Mùi).anPhuTinh(C.Đường_Phù);break;case u.Ất:this.getCungVi(T.Hợi).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Thân).anPhuTinh(C.Đường_Phù);break;case u.Bính:case u.Mậu:this.getCungVi(T.Sửu).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Tuất).anPhuTinh(C.Đường_Phù);break;case u.Đinh:case u.Kỷ:this.getCungVi(T.Dần).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Hợi).anPhuTinh(C.Đường_Phù);break;case u.Canh:this.getCungVi(T.Thìn).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Sửu).anPhuTinh(C.Đường_Phù);break;case u.Tân:this.getCungVi(T.Tị).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Dần).anPhuTinh(C.Đường_Phù);break;case u.Nhâm:this.getCungVi(T.Mùi).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Thìn).anPhuTinh(C.Đường_Phù);break;case u.Quý:this.getCungVi(T.Thân).anPhuTinh(C.Quốc_Ấn),this.getCungVi(T.Tị).anPhuTinh(C.Đường_Phù)}}anThienQuanThienPhuc(){switch(this.amLich.nam.can){case u.Giáp:this.getCungVi(T.Mùi).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Dậu).anPhuTinh(C.Thiên_Phúc);break;case u.Ất:this.getCungVi(T.Thìn).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Thân).anPhuTinh(C.Thiên_Phúc);break;case u.Bính:this.getCungVi(T.Tị).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Tý).anPhuTinh(C.Thiên_Phúc);break;case u.Đinh:this.getCungVi(T.Dần).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Hợi).anPhuTinh(C.Thiên_Phúc);break;case u.Mậu:this.getCungVi(T.Mão).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Mão).anPhuTinh(C.Thiên_Phúc);break;case u.Kỷ:this.getCungVi(T.Dậu).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Dần).anPhuTinh(C.Thiên_Phúc);break;case u.Canh:this.getCungVi(T.Hợi).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Ngọ).anPhuTinh(C.Thiên_Phúc);break;case u.Tân:this.getCungVi(T.Dậu).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Tị).anPhuTinh(C.Thiên_Phúc);break;case u.Nhâm:this.getCungVi(T.Tuất).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Ngọ).anPhuTinh(C.Thiên_Phúc);break;case u.Quý:this.getCungVi(T.Ngọ).anPhuTinh(C.Thiên_Quan),this.getCungVi(T.Tị).anPhuTinh(C.Thiên_Phúc)}}anLuuHa(){switch(this.amLich.nam.can){case u.Giáp:this.getCungVi(T.Dậu).anPhuTinh(C.Lưu_Hà);break;case u.Ất:this.getCungVi(T.Tuất).anPhuTinh(C.Lưu_Hà);break;case u.Bính:this.getCungVi(T.Mùi).anPhuTinh(C.Lưu_Hà);break;case u.Đinh:this.getCungVi(T.Thìn).anPhuTinh(C.Lưu_Hà);break;case u.Mậu:this.getCungVi(T.Tị).anPhuTinh(C.Lưu_Hà);break;case u.Kỷ:this.getCungVi(T.Ngọ).anPhuTinh(C.Lưu_Hà);break;case u.Canh:this.getCungVi(T.Thân).anPhuTinh(C.Lưu_Hà);break;case u.Tân:this.getCungVi(T.Mão).anPhuTinh(C.Lưu_Hà);break;case u.Nhâm:this.getCungVi(T.Hợi).anPhuTinh(C.Lưu_Hà);break;case u.Quý:this.getCungVi(T.Dần).anPhuTinh(C.Lưu_Hà)}}anThienTru(){switch(this.amLich.nam.can){case u.Giáp:case u.Đinh:this.getCungVi(T.Tị).anPhuTinh(C.Thiên_Trù);break;case u.Ất:case u.Mậu:case u.Tân:this.getCungVi(T.Ngọ).anPhuTinh(C.Thiên_Trù);break;case u.Bính:this.getCungVi(T.Tý).anPhuTinh(C.Thiên_Trù);break;case u.Kỷ:this.getCungVi(T.Thân).anPhuTinh(C.Thiên_Trù);break;case u.Canh:this.getCungVi(T.Dần).anPhuTinh(C.Thiên_Trù);break;case u.Nhâm:this.getCungVi(T.Dậu).anPhuTinh(C.Thiên_Trù);break;case u.Quý:this.getCungVi(T.Tuất).anPhuTinh(C.Thiên_Trù)}}anAmSat(){switch(this.amLich.thang.val){case 1:case 7:this.getCungVi(T.Dần).anPhuTinh(C.Âm_Sát);break;case 2:case 8:this.getCungVi(T.Tý).anPhuTinh(C.Âm_Sát);break;case 3:case 9:this.getCungVi(T.Tuất).anPhuTinh(C.Âm_Sát);break;case 4:case 10:this.getCungVi(T.Thân).anPhuTinh(C.Âm_Sát);break;case 5:case 11:this.getCungVi(T.Ngọ).anPhuTinh(C.Âm_Sát);break;case 6:case 12:this.getCungVi(T.Mão).anPhuTinh(C.Âm_Sát)}}anTuHoa(){let n;switch(this.amLich.nam.can){case u.Giáp:n=[o.Liêm_Trinh,o.Phá_Quân,o.Vũ_Khúc,o.Thái_Dương];break;case u.Ất:n=[o.Thiên_Cơ,o.Thiên_Lương,o.Tử_Vi,o.Thái_Âm];break;case u.Bính:n=[o.Thiên_Đồng,o.Thiên_Cơ,C.Văn_Xương,o.Liêm_Trinh];break;case u.Đinh:n=[o.Thái_Âm,o.Thiên_Đồng,o.Thiên_Cơ,o.Cự_Môn];break;case u.Mậu:n=[o.Tham_Lang,o.Thái_Âm,C.Hữu_Bật,o.Thiên_Cơ];break;case u.Kỷ:n=[o.Vũ_Khúc,o.Tham_Lang,o.Thiên_Lương,C.Văn_Khúc];break;case u.Canh:n=[o.Thái_Dương,o.Vũ_Khúc,o.Thiên_Đồng,o.Thái_Âm];break;case u.Tân:n=[o.Cự_Môn,o.Thái_Dương,C.Văn_Khúc,C.Văn_Xương];break;case u.Nhâm:n=[o.Thiên_Lương,o.Tử_Vi,C.Tả_Phù,o.Vũ_Khúc];break;case u.Quý:n=[o.Phá_Quân,o.Cự_Môn,o.Thái_Âm,o.Tham_Lang]}n.forEach((n,i)=>{this.timSao(n).anPhuTinh(C.tuHoa[i])})}anTrietKhong(){switch(this.amLich.nam.can){case u.Giáp:case u.Kỷ:this.getCungVi(T.Thân).anPhuTinh(C.TRIỆT),this.getCungVi(T.Dậu).anPhuTinh(C.TRIỆT);break;case u.Ất:case u.Canh:this.getCungVi(T.Ngọ).anPhuTinh(C.TRIỆT),this.getCungVi(T.Mùi).anPhuTinh(C.TRIỆT);break;case u.Bính:case u.Tân:this.getCungVi(T.Thìn).anPhuTinh(C.TRIỆT),this.getCungVi(T.Tị).anPhuTinh(C.TRIỆT);break;case u.Đinh:case u.Nhâm:this.getCungVi(T.Dần).anPhuTinh(C.TRIỆT),this.getCungVi(T.Mão).anPhuTinh(C.TRIỆT);break;case u.Mậu:case u.Quý:this.getCungVi(T.Tý).anPhuTinh(C.TRIỆT),this.getCungVi(T.Sửu).anPhuTinh(C.TRIỆT)}}anTuanKhong(){let n=this.amLich.nam.hoaGiap;g.Tuần_Giáp_Tý.some(i=>i.equals(n))?(this.getCungVi(T.Tuất).anPhuTinh(C.TUẦN),this.getCungVi(T.Hợi).anPhuTinh(C.TUẦN)):g.Tuần_Giáp_Tuất.some(i=>i.equals(n))?(this.getCungVi(T.Thân).anPhuTinh(C.TUẦN),this.getCungVi(T.Dậu).anPhuTinh(C.TUẦN)):g.Tuần_Giáp_Thân.some(i=>i.equals(n))?(this.getCungVi(T.Ngọ).anPhuTinh(C.TUẦN),this.getCungVi(T.Mùi).anPhuTinh(C.TUẦN)):g.Tuần_Giáp_Ngọ.some(i=>i.equals(n))?(this.getCungVi(T.Thìn).anPhuTinh(C.TUẦN),this.getCungVi(T.Tị).anPhuTinh(C.TUẦN)):g.Tuần_Giáp_Thìn.some(i=>i.equals(n))?(this.getCungVi(T.Dần).anPhuTinh(C.TUẦN),this.getCungVi(T.Mão).anPhuTinh(C.TUẦN)):g.Tuần_Giáp_Dần.some(i=>i.equals(n))&&(this.getCungVi(T.Tý).anPhuTinh(C.TUẦN),this.getCungVi(T.Sửu).anPhuTinh(C.TUẦN))}anDaiVan(){let n=this.amLich.nam.can.amDuong.value+this.gioiTinh.value;2==n&&(n=0);let i=this.getCungChuc(P.Mệnh);if(i.daiVan=this.cuc.cuc,0==n)for(let n=1;n<this.cungList.length;n++)this.getCungVi(i.chi.tien(n)).daiVan=10*n+this.cuc.cuc;else if(1==n)for(let n=1;n<this.cungList.length;n++)this.getCungVi(i.chi.lui(n)).daiVan=10*n+this.cuc.cuc}anTieuVan(){let n,i=this.amLich.nam.chi;switch(i){case T.Thân:case T.Tý:case T.Thìn:n=T.Tuất;break;case T.Hợi:case T.Mão:case T.Mùi:n=T.Sửu;break;case T.Dần:case T.Ngọ:case T.Tuất:n=T.Thìn;break;case T.Tị:case T.Dậu:case T.Sửu:n=T.Mùi}for(let h=0;h<this.cungList.length;h++)this.gioiTinh==a.Nam?this.getCungVi(n.tien(h)).tieuVan=i.tien(h):this.gioiTinh==a.Nữ&&(this.getCungVi(n.lui(h)).tieuVan=i.tien(h))}}l._6cung=[T.Dần,T.Sửu,T.Thìn,T.Ngọ,T.Hợi,T.Dậu];class w{constructor(n){this._cungThan=!1,this._chinhTinh=[],this._phuTinh=[],this._chi=n}anChinhTinh(n){this.chinhTinh.push(n)}anPhuTinh(n){this.phuTinh.push(n)}getTinhDau(){return this.chinhTinh.concat(this.phuTinh)}get phuTinhTot(){return this._phuTinh.filter(n=>null==n.type||e.Cát.equals(n.type))}get phuTinhXau(){return this._phuTinh.filter(n=>e.Hung.equals(n.type))}get can(){return this._can}set can(n){this._can=n}get chi(){return this._chi}set chi(n){this._chi=n}get cungChuc(){return this._cungChuc}set cungChuc(n){this._cungChuc=n}get cungThan(){return this._cungThan}set cungThan(n){this._cungThan=n}get chinhTinh(){return this._chinhTinh}set chinhTinh(n){this._chinhTinh=n}get phuTinh(){return this._phuTinh}set phuTinh(n){this._phuTinh=n}get daiVan(){return this._daiVan}set daiVan(n){this._daiVan=n}get tieuVan(){return this._tieuVan}set tieuVan(n){this._tieuVan=n}}class P{constructor(n){this._name=n}get name(){return this._name}}P.Mệnh=new P("Mệnh"),P.Phụ=new P("Phụ Mẫu"),P.Phúc=new P("Phúc Đức"),P.Điền=new P("Điền Trạch"),P.Quan=new P("Quan Lộc"),P.Nô=new P("Nô Bộc"),P.Di=new P("Thiên Di"),P.Tật=new P("Tật Ách"),P.Tài=new P("Tài Bạch"),P.Tử=new P("Tử Tức"),P.Phối=new P("Phu Thê"),P.Huynh=new P("Huynh Đệ"),P.list=[P.Mệnh,P.Phụ,P.Phúc,P.Điền,P.Quan,P.Nô,P.Di,P.Tật,P.Tài,P.Tử,P.Phối,P.Huynh],h.d(i,"LaSo",(function(){return l})),h.d(i,"Cung",(function(){return w})),h.d(i,"CungChuc",(function(){return P})),h.d(i,"Chi",(function(){return T})),h.d(i,"Can",(function(){return u})),h.d(i,"AmDuong",(function(){return t})),h.d(i,"GioiTinh",(function(){return a})),h.d(i,"CatHung",(function(){return e}))}])}));
//# sourceMappingURL=tuvijs.js.map